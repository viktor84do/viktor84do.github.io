!function(){var e=function(e){return(e=+e)!=e?e=0:0!==e&&e!==1/0&&e!==-1/0&&(e=(0<e||-1)*Math.floor(Math.abs(e))),e},t="a"!="a"[0],n=function(e){if(null==e)throw new TypeError("can't convert "+e+" to object");return t&&"string"==typeof e&&e?e.split(""):Object(e)},r=Function.prototype.call,i=Object.prototype,o=Array.prototype.slice;Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if("function"!=typeof t)throw new TypeError("Function.prototype.bind called on incompatible "+t);var n=o.call(arguments,1),r=function(){if(this instanceof r){(i=function(){}).prototype=t.prototype;var i=new i,a=t.apply(i,n.concat(o.call(arguments)));return Object(a)===a?a:i}return t.apply(e,n.concat(o.call(arguments)))};return r});var a=r.bind(i.toString),s=r.bind(i.hasOwnProperty);if(Array.isArray||(Array.isArray=function(e){return"[object Array]"==a(e)}),Array.prototype.forEach||(Array.prototype.forEach=function(e,t){var r=n(this),i=-1,o=r.length>>>0;if("[object Function]"!=a(e))throw new TypeError;for(;++i<o;)i in r&&e.call(t,r[i],i,r)}),Array.prototype.map||(Array.prototype.map=function(e,t){var r=n(this),i=r.length>>>0,o=Array(i);if("[object Function]"!=a(e))throw new TypeError(e+" is not a function");for(var s=0;s<i;s++)s in r&&(o[s]=e.call(t,r[s],s,r));return o}),Array.prototype.filter||(Array.prototype.filter=function(e,t){var r,i=n(this),o=i.length>>>0,s=[];if("[object Function]"!=a(e))throw new TypeError(e+" is not a function");for(var u=0;u<o;u++)u in i&&(r=i[u],e.call(t,r,u,i)&&s.push(r));return s}),Array.prototype.every||(Array.prototype.every=function(e,t){var r=n(this),i=r.length>>>0;if("[object Function]"!=a(e))throw new TypeError(e+" is not a function");for(var o=0;o<i;o++)if(o in r&&!e.call(t,r[o],o,r))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(e,t){var r=n(this),i=r.length>>>0;if("[object Function]"!=a(e))throw new TypeError(e+" is not a function");for(var o=0;o<i;o++)if(o in r&&e.call(t,r[o],o,r))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(e){var t=n(this),r=t.length>>>0;if("[object Function]"!=a(e))throw new TypeError(e+" is not a function");if(!r&&1==arguments.length)throw new TypeError("reduce of empty array with no initial value");var i,o=0;if(2<=arguments.length)i=arguments[1];else for(;;){if(o in t){i=t[o++];break}if(++o>=r)throw new TypeError("reduce of empty array with no initial value")}for(;o<r;o++)o in t&&(i=e.call(void 0,i,t[o],o,t));return i}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(e){var t=n(this),r=t.length>>>0;if("[object Function]"!=a(e))throw new TypeError(e+" is not a function");if(!r&&1==arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var i;r-=1;if(2<=arguments.length)i=arguments[1];else for(;;){if(r in t){i=t[r--];break}if(0>--r)throw new TypeError("reduceRight of empty array with no initial value")}do{r in this&&(i=e.call(void 0,i,t[r],r,t))}while(r--);return i}),Array.prototype.indexOf||(Array.prototype.indexOf=function(t){var r=n(this),i=r.length>>>0;if(!i)return-1;var o=0;for(1<arguments.length&&(o=e(arguments[1])),o=0<=o?o:Math.max(0,i+o);o<i;o++)if(o in r&&r[o]===t)return o;return-1}),Array.prototype.lastIndexOf||(Array.prototype.lastIndexOf=function(t){var r=n(this),i=r.length>>>0;if(!i)return-1;var o=i-1;for(1<arguments.length&&(o=Math.min(o,e(arguments[1]))),o=0<=o?o:i-Math.abs(o);0<=o;o--)if(o in r&&t===r[o])return o;return-1}),!Object.keys){var u,c=!0,l="toString toLocaleString valueOf hasOwnProperty isPrototypeOf propertyIsEnumerable constructor".split(" "),f=l.length;for(u in{toString:null})c=!1;Object.keys=function(e){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError("Object.keys called on a non-object");var t,n=[];for(t in e)s(e,t)&&n.push(t);if(c)for(t=0;t<f;t++){var r=l[t];s(e,r)&&n.push(r)}return n}}if(Date.now||(Date.now=function(){return(new Date).getTime()}),r="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff",!String.prototype.trim||r.trim()){r="["+r+"]";var d=RegExp("^"+r+r+"*"),h=RegExp(r+r+"*$");String.prototype.trim=function(){if(null==this)throw new TypeError("can't convert "+this+" to object");return String(this).replace(d,"").replace(h,"")}}}(),function(){var e=String.prototype;e.startsWith||(e.startsWith=function(e,t){var n=this;return t&&(n=n.substring(t)),!(n.length<e.length)&&n.substring(0,e.length)==e}),e.endsWith||(e.endsWith=function(e,t){var n=this;return t&&(n=n.substring(t)),!(n.length<e.length)&&n.slice(0-e.length)==e})}(),function(){var e,t,n={},r={},i={},o=[].slice,a=Array.isArray,s=function(e,t){for(var n in e||(e={}),t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},u=function(e){return"function"==typeof e},c=function(e,t,n){null!=e&&(e.forEach&&!e.spliterator?e:[e]).forEach(t,n)},l=function(e,t,n){for(var r in e)e.hasOwnProperty(r)&&t.call(n,r,e[r])},f=function(e,t,n){var r,i=u(t)?t():t;return n&&c(n,(function(e){(r=e(i))&&(i=r)})),i},d=function(e,t,n){var r=e.prototype,i=function(){};t="string"==typeof t?v(t):t;return s(e,t),i.prototype=t.prototype,e.superclass=i.prototype,e.prototype=new i,n&&s(e.prototype,r),r},h=function(e,t,n){if(!u(e)){var r=e;e=r.init||function(){};s(e.prototype,r)}return t&&d(e,t,!0),e.getName=e.getName||function(){return n},(t=e.prototype).constructor=e,t.getClass=function(){return e},e},p=function(){return this._ordinal},g=function(){return this._name},y=function(e){return this._ordinal-e._ordinal},m=function(e,t){if("/"==e.charAt(0)&&(e=e.substring(1)),"."==e.charAt(0)){if(!t)return e;var n=t.split("/").slice(0,-1);return c(e.split("/"),(function(e){".."==e?n.splice(n.length-1,1):"."!=e&&n.push(e)})),n.join("/")}return e.replace(/\./g,"/")},v=function(t,i,o){if(i)return v("raptor/loader").load(t,i,o);if(r.hasOwnProperty(t))return r[t];if(e.exists(t))return i=n[t],r[t]=f(0,i.factory,i.postCreate);throw Error(t+" not found")},b={load:function(e,t){var n=this.normalize;a(e)||(e=[e]);for(var r=0,i=e.length;r<i;r++)e[r]=n(e[r]);return v(e,t)},exists:function(t){return e.exists(this.normalize(t))},find:function(t){return e.find(this.normalize(t))}},w={extend:function(){return E(arguments,this.require,0,1)},Class:function(){return E(arguments,this.require,1)},Enum:function(){return E(arguments,this.require,0,0,1)}},E=function(t,n,r,i,o){var f,d,v,w,E,C,x,_=0,k=t.length-1,T=[],I=s((function(e,t){return t?I.load(e,t):n(e,v)}),b),O=new S(I),A=O.exports,R={require:I,exports:A,module:O},j=function(){return c(T,(function(e,t){var r;(r=R[e])||(r=n(e,v)),T[t]=r})),T};for(I.normalize=function(e){return m(e,v)};_<k;_++)"string"==typeof(d=t[_])?v?w=m(d,v):v=O.id=m(d):a(d)?T=d:o?E=d:w=d.superclass;return x=t[k],i?C=function(t){u(x)&&(x=x.apply(e,j().concat([I,t]))),x&&s(u(t)?t.prototype:t,x)}:(r||w?C=function(e){return w="string"==typeof w?I(w):w,h(e,w,v)}:o&&(a(x)&&(E=x,x=null),C=function(e){e?"object"==typeof e&&(e=h(e,0,v)):e=function(){};var t=e.prototype,n=0;if(a(E))c(E,(function(t){s(e[t]=new e,{_ordinal:n++,_name:t})}));else if(E){var r=function(){};r.prototype=t,l(E,(function(t,i){e.apply(s(e[t]=new r,{_ordinal:n++,_name:t}),i||[])}))}return e.valueOf=function(t){return e[t]},s(t,{name:g,ordinal:p,compareTo:y}),t.toString==Object.prototype.toString&&(t.toString=g),e}),f=u(x)?function(){var t=x.apply(e,j().concat([I,A,O]));return void 0===t?O.exports:t}:x),e.define(v,f,C)},S=function(e){this.require=e,this.exports={}};if(S.prototype={logger:function(){return this.l||(this.l=v("raptor/logging").logger(this.id))}},e={cache:r,inherit:d,extend:s,forEach:c,arrayFromArguments:function(e,t){return e?t?t<e.length?o.call(e,t):[]:o.call(e):[]},forEachEntry:l,createError:function(e,t){var n,r=arguments.length,i=Error;return 2==r?(n=e instanceof i?e:new i(e))._cause=t:1==r&&(n=e instanceof i?e:new i(e)),n},define:function(t,i,o){if(!t)return f.apply(e,arguments);var a,s=t&&n[t]||(n[t]={postCreate:[]});i&&(s.factory=i),o&&(s.postCreate.push(o),(a=r[t])&&o(a)),"object"==typeof a&&a.toString===Object.prototype.toString&&(a.toString=function(){return"["+t+"]"})},exists:function(e){return n.hasOwnProperty(e)},find:function(t){return e.exists(t)?e.require(t):void 0},require:v,normalize:m,_define:E,props:[b,w]},"undefined"!=typeof window){t=window;var C=w.require=function(e,t){return v(m(e,t))};define=s((function(){return E(arguments,C)}),w),require=s((function(e,t){return u(t)?require.load(e,t):v(m(e))}),b),require.normalize=m,define.amd={}}else t=global,module.exports=e;e.define("raptor",e),s(t,{$rset:function(e,t,n){if("object"==typeof t)l(t,(function(t,n){$rset(e,t,n)}));else{var r=i[e];r||(r=i[e]={}),void 0!==n?r[t]=n:delete r[t]}},$radd:function(e,t){var n=i[e];n||(n=i[e]=[]),n.push(t)},$rget:function(e,t){var n=i[e];return 2==arguments.length?n&&n[t]:n}}),e.global=t}(),define("raptor/logging",["raptor"],(function(e){var t=function(){return!1},n={isDebugEnabled:t,isInfoEnabled:t,isWarnEnabled:t,isErrorEnabled:t,isFatalEnabled:t,dump:t,debug:t,info:t,warn:t,error:t,fatal:t,alert:t,trace:t};return{logger:function(){return n},makeLogger:function(t){e.extend(t,n)},configure:t,voidLogger:n}})),define("raptor/listeners",["raptor"],(function(e){var t,n=e.forEachEntry,r=Array.isArray,i=e.extend,o=0,a=function(){},s=function(e,t){return e?t?function(){e.apply(t,arguments)}:e:a},u=function(e){var t,n=[];e._listeners.forEach((function(e){e.removed?(t=e.thisObj)&&delete t.__lstnrs[e.id]:n.push(e)})),e._listeners=n,e._listeners.length||e._onEmpty()},c=function(e,t){this.name=e,this.data=t};c.prototype={getName:function(){return this.name},getData:function(){return this.data}};var l=function(){this._listeners=[],this._onEmpty=a};l.prototype={add:function(e,t,n){var r={callback:e,thisObj:t,removed:!1,autoRemove:n,id:o++},i=this;e=r.remove=function(){r.removed=!0,u(i)};return this._listeners.push(r),(n={remove:e}).unsubscribe=n.remove,t&&((e=t.__lstnrs)||(e=t.__lstnrs={}),e[r.id]=n),n},publish:function(){var e=arguments,t=this;t._listeners.forEach((function(n){if(!n.removed&&(n.callback.apply(n.thisObj,e),n.autoRemove)){var r=t;n.removed=!0,u(r)}}))},onEmpty:function(e,t){this._onEmpty=s(e,t)},removeAll:function(){for(var e=this._listeners,t=0;t<e.length;t++)e[t].removed=!0;u(this)}};var f=function(e,t){var n=t._allowed;if(n&&!n[e])throw Error('Invalid message name of "'+e+'". Allowed messages: '+Object.keys(n).join(", "))},d=function(e){return function(t){var n=[e].concat(Array.prototype.slice.call(arguments));this["function"==typeof t?"subscribe":"publish"].apply(this,n)}},h=function(){this._byName||(this._byName={})};return h.prototype={__observable:!0,registerMessages:function(e,t){this._allowed||(this._allowed={});for(var n=0,r=e.length;n<r;n++){var i=e[n];this._allowed[i]=!0,t&&(this[i]=d(i))}},subscribe:function(t,r,i,o){var a,s=this;if("object"==typeof t)return o=i,i=r,a={},n(t,(function(e,t){a[e]=s.subscribe(e,t,i,o)})),(r={unsubscribe:function(t){if(arguments.length){var r=a[t];if(!r)throw e.createError(Error("Invalid message name: "+t));r.unsubscribe()}else n(a,(function(e,t){t.remove()}))}}).remove=r.removeAll=r.unsubscribe,r;f(t,s);var u=s._byName[t];return u||(s._byName[t]=u=new l,u.onEmpty((function(){delete s._byName[t]}))),u.add(r,i,o)},unsubscribeAll:function(){n(this._byName,(function(e,t){t.removeAll()})),this._byName={}},publish:function(e,n){var i;r(n)?i=n:(t.isMessage(e)?e=(n=e).getName():n=t.createMessage(e,n),i=[n.data,n]),f(e,this);var o=this,a=function(e){(e=o._byName[e])&&e.publish.apply(e,i)};a(e),a("*");var s=e.lastIndexOf(".");return 0<=s&&a(e.substring(0,s+1)+"*"),n}},t={Message:c,createListeners:function(){return new l},createObservable:function(e,t){var n=new h;return e&&n.registerMessages(e,t),n},makeObservable:function(e,t,n,r){t||(t=e),t.__observable||i(t,h.prototype),h.call(e),n&&e.registerMessages(n,r)},isObervable:function(e){return e&&e.__observable},createMessage:function(e,t){return new c(e,t)},isMessage:function(e){return e instanceof c},bind:s,unsubscribeFromAll:function(e){if(e=e.__lstnrs)for(var t in e)e[t].unsubscribe()}}})),define("raptor/pubsub",(function(e){var t=e("raptor/listeners"),n=define.Class({superclass:t.Message},(function(){var e=function(e,n){t.Message.call(this,e,n),this.topic=e};return e.prototype={getTopic:function(){return this.topic}},e})),r=define.Class((function(){return{init:function(e){this.name=e,this.observable=t.createObservable()},publish:function(n,r){var i;return i=t.isMessage(n)?n:e("raptor/pubsub").createMessage(n,r),this.observable.publish(i),i},subscribe:function(e,t,n){return this.observable.subscribe(e,t,n)}}})),i={};return{channel:function(e){var t=i[e];return t||(t=new r(e),i[e]=t),t},global:function(){return this.channel("global")},publish:function(e,t){var n=this.global();n.publish.apply(n,arguments)},subscribe:function(e,t,n){var r=this.global();return r.subscribe.apply(r,arguments)},createMessage:function(e,t){return new n(e,t)}}})),define("raptor/widgets/WidgetDef",["raptor"],(function(e){var t=function(t){this.children=[],e.extend(this,t)};return t.prototype={a:function(){},addChild:function(e){this.children.push(e)},elId:function(e){return 0===arguments.length?this.id:this.id+"-"+e}},t})),define("raptor/widgets/WidgetsContext",["raptor"],(function(e,t){var n=t("raptor/widgets/WidgetDef"),r=function(e){this.context=e,this.widgets=[],this.widgetStack=[]};return r.prototype={getWidgets:function(){return this.widgets},beginWidget:function(t,r){var i=this.widgetStack,o=i.length,a=o?i[o-1]:null;if(t.id||(t.id=this._nextWidgetId()),t.assignedId&&!t.scope)throw e.createError(Error('Widget with an assigned ID "'+t.assignedId+'" is not scoped within another widget.'));t.parent=a;var s=new n(t);a?a.addChild(s):this.widgets.push(s),i.push(s);try{r(s)}finally{i.splice(o,1)}},hasWidgets:function(){return 0!==this.widgets.length},clearWidgets:function(){this.widgets=[],this.widgetStack=[]},_nextWidgetId:function(){return"w"+this.context.uniqueId()}},r})),define("raptor/widgets",(function(e){var t=e("raptor/widgets/WidgetsContext");return{getWidgetsContext:function(e){var n=e.getAttributes();return n.widgets||(n.widgets=new t(e))}}})),define.extend("raptor/widgets/Widget",["raptor"],(function(e,t,n){var r=e.arrayFromArguments;return n.legacy=!0,{getRootEl:function(){return this.getEl()},getRootElId:function(){return this.getElId()},getChild:function(e){return this.getWidget(e)},getChildren:function(e){return this.getWidget(e)},getParent:function(){return this._parentWidget},getChildWidget:function(e){return this.getChild(e)},getChildWidgets:function(e){return this.getChildren.apply(this,arguments)},getParentWidget:function(){return this._parentWidget},notify:function(e,t){return this.publish(e,r(arguments,1))},getDoc:function(){return this.widgets}}})),define("raptor/dom",(function(e){var t=function(e){if("string"==typeof e){var t=e;if(!(e=document.getElementById(t)))throw raptor.createError(Error('Target element not found: "'+t+'"'))}return e},n=function(t){var n=e.find("raptor/pubsub");n&&n.publish("dom/beforeRemove",{el:t})},r={forEachChildEl:function(e,t,n){r.forEachChild(e,t,n,1)},forEachChild:function(e,t,n,r){if(e)for(var i=0,o=(e=e.childNodes).length;i<o;i++){var a=e[i];a&&(null==r||r==a.nodeType)&&t.call(n,a)}},detach:function(e){(e=t(e)).parentNode.removeChild(e)},appendTo:function(e,n){t(n).appendChild(t(e))},replace:function(e,r){r=t(r),n(r),r.parentNode.replaceChild(t(e),r)},replaceChildrenOf:function(e,i){i=t(i),r.forEachChildEl(i,(function(e){n(e)})),i.innerHTML="",i.appendChild(t(e))},insertBefore:function(e,n){(n=t(n)).parentNode.insertBefore(t(e),n)},insertAfter:function(e,n){n=t(n),e=t(e);var r=n.nextSibling,i=n.parentNode;r?i.insertBefore(e,r):i.appendChild(e)},prependTo:function(e,n){(n=t(n)).insertBefore(t(e),n.firstChild||null)}};return r})),define.extend("raptor/widgets/WidgetsContext",(function(e){return{initWidgets:function(){var t=this.widgets,n=e("raptor/widgets");t.forEach((function(e){n.initWidget(e)})),this.clearWidgets()}}})),define.extend("raptor/widgets",(function(e,t){var n=e("raptor/logging").logger("raptor/widgets"),r={},i=e("raptor"),o=Array.isArray,a=i.createError,s=e("raptor/widgets/Widget"),u=function(){};u.prototype={_remove:function(e,t){var n=this[t];o(n)?this[t]=n.filter((function(t){return t!==e})):delete this[t]},_add:function(e,t,n){var r=this[t];r?o(r)?r.push(e):this[t]=[r,e]:this[t]=n?[e]:e},getWidget:function(e){return this[e]},getWidgets:function(e){return(e=this[e])?o(e)?e:[e]:[]}};var c=function(o,c,l,f,d,h,p,g){if(!e.exists(o))throw a(Error('Unable to initialize widget of type "'+o+'". The class for the widget was not found.'));var y,m=e(o);if(n.debug('Creating widget of type "'+o+'" ('+c+")"),m.initWidget)f.elId=c,f.events=h,y=m,m.onReady||(m.onReady=t.onReady);else{var v,b=function(){};if(b.prototype=v=m.prototype,y=new b,s.makeWidget(y,v),y.registerMessages(["beforeDestroy","destroy"],!1),(b=v.events||m.events)&&y.registerMessages(b,!1),c&&(y._id=c,y.el=y.getEl()),m.getName||(m.getName=function(){return o}),v.constructor=m,s.legacy&&(y._parentWidget=p),h&&(y._events=function(e){var t={};return i.forEach(e,(function(e){t[e[0]]={target:e[1],props:e[2]}}),this),t}(h)),y.widgets=new u,r[c]=y,l&&d){var w;if(l.endsWith("[]")&&(l=l.slice(0,-2),w=!0),y._assignedId=l,y._scope=d,!(c=r[d]))throw a(Error("Parent scope not found: "+d));c.widgets._add(y,l,w),s.legacy&&(c[l]=y)}}return{widget:y,init:function(){var e=function(){try{y.initWidget?y.initWidget(f):m.call(y,f)}catch(t){var e='Unable to initialize widget of type "'+o+"'. Exception: "+t;if(!g)throw t;n.error(e,t)}};!0===y.initBeforeOnDomReady?e():y.onReady(e)}}};return e("raptor/pubsub").subscribe({"dom/beforeRemove":function(e){(e=t.get(e.el.id))&&e.destroy({removeNode:!1,recursive:!0})},"raptor/renderer/renderedToDOM":function(e){t.getWidgetsContext(e.context).initWidgets()}}),{initWidget:function(e){var t=c(e.type,e.id,e.assignedId,e.config,e.scope?e.scope.id:null,e.events);e.widget=t.widget,e.children.length&&e.children.forEach(this.initWidget,this),t.init()},_serverInit:function(e){var t=function(e,n){if(e)for(var r=0,i=e.length;r<i;r++){var o=(d=e[r])[0],a=d[1],s=d[2]||{},u=d[3],l=d[4],f=d[5]||{},d=d.slice(6);0===u&&(u=void 0),0===l&&(l=void 0),0===s&&(s=void 0),o=c(o,a,l,s,u,f,n,1),d&&d.length&&t(d,o.widget),o.init()}};t(e)},get:function(e){return r[e]},_remove:function(e){delete r[e]}}})),$rwidgets=function(){require("raptor/widgets")._serverInit(require("raptor").arrayFromArguments(arguments))},define("raptor/widgets/Widget",["raptor"],(function(e,t){var n,r=t("raptor/listeners"),i=t("raptor/dom"),o=function(e,n,a){var s={widget:e},u=e.getEl(),c=t("raptor/widgets"),l=e._assignedId;if(e.publish("beforeDestroy",s),r.unsubscribeFromAll(e),e.__destroyed=!0,u){if(a){var f=function(e){i.forEachChildEl(e,(function(e){if(e.id){var t=c.get(e.id);t&&o(t,!1,!1)}f(e)}))};f(u)}n&&u.parentNode.removeChild(u)}c._remove(e._id),l&&(n=c.get(e._scope))&&n.widgets._remove(e,l),e.publish("destroy",s)},a=function(){};return a.makeWidget=function(e,t){if(!e._isWidget)for(var r in n)t.hasOwnProperty(r)||(t[r]=n[r])},a.prototype=n={_isWidget:!0,getObservable:function(){return this._observable||(this._observable=r.createObservable())},registerMessages:function(e,t){this.getObservable().registerMessages.apply(this,arguments)},publish:function(n,r){var i,o=this.getObservable();o.publish.apply(o,arguments),this._events&&(i=this._events[n])&&(i.props&&(r=e.extend(r||{},i.props)),t("raptor/pubsub").publish(i.target,r))},subscribe:function(e,t,n){var r=this.getObservable();return r.subscribe.apply(r,arguments)},getElId:function(e){return e?this._id+"-"+e:this._id},getEl:function(e){return 1===arguments.length?document.getElementById(this.getElId(e)):this.el||document.getElementById(this.getElId())},getWidget:function(e){return this.widgets.getWidget(e)},getWidgets:function(e){return this.widgets.getWidgets(e)},destroy:function(e){o(this,!1!==(e=e||{}).removeNode,!1!==e.recursive)},isDestroyed:function(){return this.__destroyed},_getRootEl:function(){var t=this.getEl();if(!t)throw e.createError(Error("Root element missing for widget of type "+this.constructor.getName()));return t},rerender:function(n,r){var i=this.renderer,o=this.constructor.getName(),a=t("raptor/renderer"),s=this._getRootEl();if(i||(this.constructor.render?i=this.constructor:o.endsWith("Widget")&&(i=t.find(o.slice(0,-6)+"Renderer"))),!i)throw e.createError(Error("Renderer not found for widget "+o));return a.render(i,n,r).replace(s)},detach:function(){i.detach(this._getRootEl())},appendTo:function(e){i.appendTo(this._getRootEl(),e)},replace:function(e){i.replace(this._getRootEl(),e)},replaceChildrenOf:function(e){i.replaceChildrenOf(this._getRootEl(),e)},insertBefore:function(e){i.insertBefore(this._getRootEl(),e)},insertAfter:function(e){i.insertAfter(this._getRootEl(),e)},prependTo:function(e){i.prependTo(this._getRootEl(),e)}},n.on=n.subscribe,a})),define("raptor/loader",["raptor"],(function(e,t){var n={},r={},i=e.forEach,o=e.forEachEntry,a=t("raptor/listeners"),s=["asyncStart","asyncComplete","success","error","complete"],u=function(e,t){var n=a.createObservable(s,!0);return e&&("function"==typeof e?n.complete(e,t):n.subscribe(e,t)),n},c=a.createObservable(),l=function(e,t,i){var o=n[e];delete n[e],o.success=t,o.complete=!0;var a=function(t){i[t](o),c.publish(t+":"+e,o)};t?(r[e]=o,a("success")):a("error"),a("asyncComplete"),a("complete")},f=function(e){var t,o=[],a={},f={_add:function(e,u,f,d){!t&&!a[e]&&(a[e]=1,o.push((function(t){(function(e,t){var o=r[e];return o?(o.success?t.success(o):t.error(o),t.complete(o),!0):(o=n[e])?(t.asyncStart(o),i(s,(function(n){"asyncStart"!==n&&c.subscribe(n+":"+e,(function(e){t.publish(n,e)}),this,!0)}),this),!0):(n[e]=o={url:e,completed:!1},t.asyncStart(o),!1)})(e,t)||f.call(d,u,function(e,t){return{success:function(){l(e,!0,t)},error:function(){l(e,!1,t)}}}(e,t))})))},isIncluded:function(e){return!!a[e]},setIncluded:function(e){a[e]=1},add:function(t,n){var r=e["handle_"+t];if(null==r)throw Error("Invalid type: "+t);i(n,(function(t){r.call(e,t,f)}))},execute:function(e){t=1;var n=[],r={failed:n};o.length||(e.success(r),e.complete(r));var a=0,s=!1,c=u({asyncStart:function(){s||(s=!0,e.asyncStart(r))},error:function(e){n.push(e)},complete:function(){++a===o.length&&((r.success=!n.length)?e.success(r):e.error(r),s&&e.asyncComplete(r),e.complete(r))}});return i(o,(function(e){e(c)})),f}};return f};return{isDownloaded:function(e){return void 0!==r[e]},setDownloaded:function(e){e&&(r[e]={url:e,success:!0,complete:!0})},include:function(e,t,n){var r=new f(this);return this.beforeInclude&&this.beforeInclude(),o(e,(function(e,t){r.add(e,t)})),r.execute(u(t,n))}}})),define.extend("raptor/loader",["raptor"],(function(e){var t=!1,n=e.forEach;return{handle_js:function(e,t){t._add(e.src||e.url||e,e,this.includeJSImpl,this)},handle_css:function(e,t){t._add(e.href||e.url||e,e,this.includeCSSImpl,this)},includeJS:function(e,t,n){return this.include({js:[e]},t,n)},includeCSS:function(e,t,n){return this.include({css:[e]},t,n)},registerResources:function(){var e=[].slice,t=document.getElementsByTagName("script"),r=document.getElementsByTagName("link");(e=e.call(t).concat(e.call(r)))&&n(e,(function(e){this.setDownloaded(e.src||e.href)}),this)},beforeInclude:function(){t||this.registerResources(),t=!0}}})),define.extend("raptor/loader",(function(e){var t,n=e("raptor/logging").logger("raptor/loader"),r=(t=e("raptor")).forEach,i=t.extend;return{handle_require:t=function(t,n){if(!e.exists(t)&&!n.isIncluded(t)){n.setIncluded(t);var r=$rget("loaderMeta",t);if(!r)throw Error('Dependencies missing: "'+t+'"');n.add("requires",r.requires),n.add("js",r.js),n.add("css",r.css)}},handle_requires:t,load:function(t,o,a){var s,u,c="function"==typeof o;return(s=c?o:o.success)&&((u="function"!=typeof o?i({},o):{}).success=function(){var i=[];try{r(t,(function(t){i.push(e.exists(t)?e(t):null)}))}catch(e){return n.error(e),void(u.error&&u.error.call(a))}s.apply(a,i)},c&&(u.error=function(){s.call(a)})),this.include({requires:t},u||o,a)}}})),function(){var e,t=require("raptor"),n=t.global,r=require("raptor/logging"),i=n.define||t.createDefine();n.raptor=e=t.extend({},t);var o=/^(arrays|json.*|debug|listeners|loader.*|locale.*|logging|pubsub|objects|strings|templating.*|widgets)$/,a=function(e){return e=t.normalize(e),o.test(e)?"raptor/"+e:e},s=function(o,a,s,u){var c=o.length-1,l=o[c],f=o[0];return"string"!=typeof o[0]&&(f="(anonymous)"),"function"==typeof l&&(o[c]=function(){var n=l(e),i=n;if((a||"function"==typeof n)&&(a=1,"function"!=typeof n&&(i=n.init||function(){},t.extend(i.prototype,n),n=i),i=n.prototype),!u){var o,s=f;i.logger=function(){return o||(o=r.logger(s))}}return a&&(n.getName=function(){return f},i.init=i.constructor=n),n}),a?i.Class.apply(i,o):s?i.Enum.apply(i,o):i.apply(n,o)},u=function(){return s(arguments)},c=function(e){return t.find(a(e))};t.extend(e,{require:function(n,r,i,o){return o?e.find(n):t.require("string"==typeof n?a(n):n.map(a),r,i)},find:c,load:c,define:u,defineModule:u,defineClass:function(){return s(arguments,1)},defineEnum:function(){return s(arguments,0,1)},defineMixin:function(){return s(arguments,0,0,1)},extend:function(n,r){if("string"!=typeof n)return t.extend(n,r);if("function"==typeof r){var o=r;r=function(t,n){return"function"==typeof n&&(n=n.prototype),o(e,n)}}i.extend(n,r)},inherit:function(n,r,i){t.inherit(n,"string"==typeof r?e.require(r):r,i)},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isFunction:function(e){return"function"==typeof e},isObject:function(e){return"object"==typeof e},isBoolean:function(e){return"boolean"==typeof e},isServer:function(){return!this.isClient()},isClient:function(){return void 0!==typeof window},isArray:Array.isArray})}(),define.Class("ebay/context/Context",["raptor"],(function(e,t){var n=t("raptor/client/features/Features");return function(t){e.extend(this,t),n.call(n,this.features)}})),define.Class("raptor/client/features/Features",["raptor"],(function(e){var t=function(t){e.extend(this.supported,t)};return e.extend(t,{supported:{},supports:function(e){return this.supported[e]}}),t})),define("ebay/errors/Errors",(function(e){var t=!1,n=e("ebay/context/Context"),r=[];return{init:function(){t||(window.onerror=function(e,t,i){return r.push({message:e,url:t,linenumber:i}),e=!0,n.errors&&n.errors.enabled&&(e=!n.errors.enabled),e},t=!0)},hasErrors:function(){return 0<r.length},getErrorLength:function(){return r.length},getErrors:function(){for(var e=[],t=r.length,n=0;n<t;n++){var i=r[n];0<e.length&&e.push("|"),e.push("js-err-line-"+i.linenumber+"-msg-"+i.message+"-url-"+i.url)}return e.join("")}}})),require("ebay.errors.Errors").init(),define("ebay/legacy/adaptor-utils",(function(){var e,t={};return e={extend:raptor.extend,inherit:raptor.inherit,isArray:Array.isArray,alias:function(e,n){var r=n.lastIndexOf("."),i=n.substring(0,r),o=t[i];n=n.substring(r+1);if(o)return o[n]=e;for(var a,s=(r=i?i.split("."):[]).length,u=(o=raptor.global,0);u<s&&o[a=r[u]];u++)o=o[a];for(;u<s;)o=o[a=r[u++]]={};return t[i]=o,o[n]=e},elem:function(e){return"string"==typeof e?$(document.getElementById(e.match(/^#?(.*)/)[1])||e):e&&e.jquery?e:$(e)},bind:function(t,n,r,i,o){return(n=e.elem(n))&&n.length?n.bind(r,o,$.proxy(i,t)):n},unbind:function(t,n,r,i){return(n=e.elem(n))&&n.length?n.unbind(r,i):n},log:function(){},isNull:function(e){return null===e},isEmpty:function(e){for(var t in e)return!1;return!0},isNode:function(e){return null!=e&&void 0!==e.nodeType},isDefined:function(e){return void 0!==e},isUndefined:function(e){return void 0===e}}})),raptor.extend(raptor,require("ebay/legacy/adaptor-utils")),define.Class("Base64",["raptor"],(function(e){var t=function(){};return e.extend(t,{decode:function(e){if(0>=(s=e.length)||/[^A-Za-z0-9+/=*]/.exec(e))return"";for(var t,n,r,i,o,a=0,s=e.length,u="";a<s;)t=(t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=*".indexOf(e.charAt(a++)))<<2|(n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=*".indexOf(e.charAt(a++)))>>4,n=(15&n)<<4|(r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=*".indexOf(e.charAt(a++)))>>2,o=(3&r)<<6|(i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=*".indexOf(e.charAt(a++))),u+=String.fromCharCode(t),64<=r||(u+=String.fromCharCode(n)),64<=i||(u+=String.fromCharCode(o));return u}}),t})),require("Base64"),define.Class("Utf8",["raptor"],(function(){var e=function(){};return e.decode=function(e){return decodeURIComponent(escape(e))},e})),define("ebay/cookies",(function(){var e={COOKIELET_DELIMITER:"^",NAME_VALUE_DELIMITER:"/",escapedValue:!0},t={COOKIELET_DELIMITER:"^",NAME_VALUE_DELIMITER:"/",bUseExp:!0,startDelim:"b"},n={COOKIELET_DELIMITER:"^",NAME_VALUE_DELIMITER:"=",escapedValue:!0,startDelim:"^"},r={reg:["dp1","reg"],recent_vi:["ebay","lvmn"],ebaysignin:["ebay","sin"],p:["dp1","p"],etfc:["dp1","etfc"],keepmesignin:["dp1","kms"],ItemList:["ebay","wl"],BackToList:["s","BIBO_BACK_TO_LIST"]},i={r:e,dp1:t,npii:t,ebay:n,reg:n,apcCookies:n,ds2:{COOKIELET_DELIMITER:"^",NAME_VALUE_DELIMITER:"/"}};return{readCookie:function(e,t){var n=this.readCookieObj(e,t).value;return n?decodeURIComponent(n):""},createDefaultCookieBean:function(e,t){var n={};return n.name=e,n.cookieletname=t,n.value="",n.maxage=0,n.rawcookievalue="",n.mode="",n},readCookieObj:function(e,t){var n=this.createDefaultCookieBean(e,t);this.update(),this.checkConversionMap(n),n.rawcookievalue=this.aCookies[n.name],n.name&&n.rawcookievalue?n.cookieletname?this.readCookieletInternal(n):this.readCookieInternal(n):n.value="";var r=t&&t.match(/guid$/),i=void 0!==n?n:"";return i&&r&&32<n.value.length&&(n.value=n.value.substring(0,32)),i},checkConversionMap:function(e){var t=r[e.name];t&&(e.mode=this.getMode(e.name),e.name=t[0],e.cookieletname=t[1])},readCookieInternal:function(e){return e.value=e.rawcookievalue,e},readCookieletInternal:function(e){var t=this.getCookielet(e.name,e.cookieletname,e.rawcookievalue),n=this.getFormat(e.name);return t&&n.bUseExp&&(n=t,t=t.substring(0,t.length-8),8<n.length&&(e.maxage=n.substring(n.length-8))),e.value=t,"10"==e.mode&&(e.value=e.rawcookievalue),e},readMultiLineCookie:function(e,t){if(!e||!t)return"";var n,i="",o=r[e];return o&&(n=this.readCookieObj(o[0],o[1]).value||""),n&&(i=this.getCookielet(e,t,n)||""),void 0!==i?i:""},writeCookie:function(e,t,n){var i=r[e];i?this.writeCookielet(i[0],i[1],t,n):(i=this.getFormat(e),t&&i.escapedValue&&(t=encodeURIComponent(t)),this.writeRawCookie(e,t,n))},writeRawCookie:function(e,t,n){if(e&&void 0!==t&&(isNaN(t)&&4e3>t.length||4e3>(t+"").length)){"number"==typeof n&&(n=this.getExpDate(n));var r=n?new Date(n):new Date(this.getExpDate(730)),i=this.getFormat(e),o=document.domain;if(-1==o.indexOf(this.sCookieDomain)){var a=o.indexOf(".ebay.");0<a&&(this.sCookieDomain=o.substring(a))}document.cookie&&(document.cookie=e+"="+(t||"")+(n||i.bUseExp?"; expires="+r.toGMTString():"")+"; domain="+this.sCookieDomain+"; path=/")}},writeCookieEx:function(e,t,n){this.writeCookie(e,t,this.getExpDate(n))},writeCookielet:function(e,t,n,r,i){e&&t&&(this.update(),this.getFormat(e).bUseExp&&n&&("number"==typeof r&&(r=this.getExpDate(r)),r=r?new Date(r):new Date(this.getExpDate(730)),r=Date.UTC(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate(),r.getUTCHours(),r.getUTCMinutes(),r.getUTCSeconds()),r=Math.floor(r/1e3),n+=parseInt(r,10).toString(16)),t=this.createCookieValue(e,t,n),this.writeRawCookie(e,t,i))},writeMultiLineCookie:function(e,t,n,i,o){this.update(),(t=this.createCookieValue(e,t,n))&&(e=r[e])&&this.writeCookielet(e[0],e[1],t,i,o)},getBitFlagOldVersion:function(e,t){var n=parseInt(e,10),r=n.toString(2);return"1"==(n?r.charAt(r.length-t-1):"")?1:0},setBitFlagOldVersion:function(e,t,n){var r,i="";if((e=parseInt(e+"",10))&&(i=e.toString(2)),(e=i.length)<t)for(r=t-e,e=0;e<=r;e++)i="0"+i;return t=i.length-t-1,parseInt(i.substring(0,t)+n+i.substring(t+1),2)},getBitFlag:function(e,t){if(null!=e&&0<e.length&&"#"==e.charAt(0)){var n=t%4,r=e.length-(Math.floor(t/4)+1);return((r=parseInt(e.substring(r,r+1),16))&(n=1<<n))==n?1:0}return this.getBitFlagOldVersion(e,t)},setBitFlag:function(e,t,n){if(null!=e&&0<e.length&&"#"==e.charAt(0)){var r=e.length,i=t%4;if(r<=(t=Math.floor(t/4)+1)){if(1!=n)return e;var o=t-r+1;for(e=e.substring(1,r);0<o;)e="0"+e,o--;r=(e="#"+e).length}return t=r-t,o=parseInt(e.substring(t,t+1),16),i=1<<i,o=1==n?o|i:o&~i,e.substring(0,t)+o.toString(16)+e.substring(t+1,r)}return 31<t?e:this.setBitFlagOldVersion(e,t,n)},createCookieValue:function(e,t,n){var i=r[e],o=this.getFormat(e),a=this.getMode(e);e=!i||"00"!=a&&"01"!=a?this.aCookies[e]||"":this.readCookieObj(i[0],i[1]).value||"";if(o){(e=this.getCookieletArray(e,o))[t]=n;var s;t="";for(s in e)e.hasOwnProperty(s)&&(t+=s+o.NAME_VALUE_DELIMITER+e[s]+o.COOKIELET_DELIMITER);t&&o.startDelim&&(t=o.startDelim+t),e=t,o.escapedValue&&(e=encodeURIComponent(e))}return e},update:function(){var e=document.cookie.split("; ");this.aCookies={};for(var t=/^"(.*)"$/,n=0;n<e.length;n++){var r=e[n].split("="),i=this.getFormat(r[0]),o=r[1];(i=i.startDelim)&&o&&0===o.indexOf(i)&&(r[1]=o.substring(i.length,o.length)),r[1]&&r[1].match(t)&&(r[1]=r[1].substring(1,r[1].length-1)),this.aCookies[r[0]]=r[1]}},getCookielet:function(e,t,n){return e=this.getFormat(e),this.getCookieletArray(n,e)[t]||""},getFormat:function(t){return i[t]||e},getCookieletArray:function(e,t){var n=[],r=e||"";t.escapedValue&&(r=decodeURIComponent(r));r=r.split(t.COOKIELET_DELIMITER);for(var i=0;i<r.length;i++){var o=r[i].indexOf(t.NAME_VALUE_DELIMITER);0<o&&(n[r[i].substring(0,o)]=r[i].substring(o+1))}return n},getExpDate:function(e){var t;return"number"==typeof e&&0<=e&&((t=new Date).setTime(t.getTime()+864e5*e),t=t.toGMTString()),t},getMode:function(e){var t,n=this.readCookieObj("ebay","cv").value;if(!(e in r))return null;if(!n)return"";if(0===n)return"00";if(n&&"0"!=n){if(-1!=n.indexOf(".")){var i=n.split(".");for(n=0;n<i.length;n++)t=parseInt(i[n],16).toString(2)+t}else t=parseInt(n,16).toString(2);var o,a;n=0,i=t.length;for(a in r){if(o=i-2*(n+1),o=(o=t.substring(o,o+2).toString(10))||"00",e==a)return 1==o.length?"0"+o:o;n++}}return null},getMulti:function(e,t,n){var r,i="";for(r=0;r<n;r++)i=this.getBitFlag(e,t+r)+i;return parseInt(i,2)},setMulti:function(e,t,n,r){var i,o=0;if((i=(r=r.toString(2).substring(0,n)).length)<n){for(n-=i,o=0;o<n;o++)r="0"+r;i+=n}for(o=0;o<i;o++)e=this.setBitFlag(e,t+o,r.substring(i-o-1,i-o));return e},setJsCookie:function(){this.writeCookielet("ebay","js","1")}}})),"undefined"!=typeof raptor&&raptor.alias(require("ebay/cookies"),"raptor.dom.Cookie"),define("browser/layout",["raptor","ebay.cookies"],(function(e,t){var n,r=[25,26,40,41],i=[{name:"sz760",minWidth:760,maxWidth:940,bits:1},{name:"sz940",minWidth:940,maxWidth:1200,bits:0},{name:"sz1200",minWidth:1200,maxWidth:1200,bits:5}];return n={processLayout:function(){var e=this.getComputedLayout($(window).width());e!=this.current&&(this.setLayout(e),this.current=e)},setLayout:function(e){for(var n=t.readCookie("dp1","pbf")||"#",i=0,o=(e=e.bits,r.length);i<o;i++,e>>=1)n=t.setBitFlag(n,r[i],1&e);t.writeCookielet("dp1","pbf",n)},getComputedLayout:function(){var e=$(window).width();return e<i[1].minWidth?i[0]:e<i[2].minWidth?i[1]:i[2]}},{process:function(){return n.processLayout()}}})),define.Class("ebay/legacy/utils/Script",["ebay/legacy/adaptor-utils"],(function(e){var t=function(e,n,r){if(this.scope=e,this.script=n,this.handler=r,this.head=$("head",document),!t.getScript(n.src)){if(n.src)return this.loadScript(n);n.text&&t.evalScript(n.text)}this.onDone()};return e.extend(t,{Scripts:{},addScripts:function(){for(var e=$("script",document),t=0,n=e.length;t<n;t++)this.addScript(e[t])},addScript:function(e){var t=e.type,n=this.getFile(e.src);return"text/javascript"==t&&n?this.Scripts[n]=e:null},getScript:function(e){return(e=this.getFile(e))?this.Scripts[e]:null},getFile:function(e){return e?e.substring(e.lastIndexOf("/")+1):null},evalScript:function(e){window.execScript?window.execScript(e):window.eval.call(window,e)}}),e.extend(t.prototype,{loadScript:function(t){t=$uri(t.src),$.browser.safari&&525.28>$.browser.version&&t.appendParam("_ts",(new Date).valueOf().toString()),this.elem=$("<script/>").attr({type:"text/javascript"}),$.browser.msie?e.bind(this,this.elem,"readystatechange",this.onChange):e.bind(this,this.elem,"load error",this.onLoaded),e.log("debug","Script.loadScript",t.getUrl()),this.head[0].appendChild(this.elem[0]),this.elem[0].src=t.getUrl()},onChange:function(e){this.elem[0].readyState.match(/loaded/)&&this.onLoaded(e)},onLoaded:function(){var n=this.elem;t.addScript(n[0]),e.unbind(this,n),e.log("debug","Script.onLoaded",n[0].src),this.onDone()},onDone:function(){var e=this.handler;e&&e.apply(this.scope,[this])}}),t.addScripts(),e.bind(t,window,"load",t.addScripts),t})),require("ebay/legacy/utils/Script"),define.Class("ebay/legacy/utils/Style",["ebay/legacy/adaptor-utils"],(function(e){var t=function(e,n,r){if(this.scope=e,this.style=n,this.handler=r,this.head=$("head",document),this.sheets=document.styleSheets,!t.getStyle(n.href)){if(n.href)return this.loadStyle(n);n.rules&&t.loadRules(n.rules)}this.onDone()};return e.extend(t,{Styles:{},addStyles:function(){for(var e=$("link",document),t=0,n=e.length;t<n;t++)this.addStyle(e[t])},addStyle:function(e){var t=this.getFile(e.href);return t?this.Styles[t]=e:null},getStyle:function(e){return(e=this.getFile(e))?this.Styles[e]:null},getFile:function(e){return e?e.substring(e.lastIndexOf("/")+1):null},loadRules:function(e){var t=$("head",document);(t=$("<style/>").attr({type:"text/css"}).appendTo(t))[0].styleSheet?t[0].styleSheet.cssText=e:t.html(e)}}),e.extend(t.prototype,{retries:20,loadStyle:function(t){var n=$uri(t.href);$.browser.safari&&525.28>$.browser.version&&n.appendParam("_ts",(new Date).valueOf().toString());var r=t.type||"text/css";t=t.rel||"stylesheet";this.elem=$("<link/>").attr({type:r,rel:t}).appendTo(this.head),e.log("debug","Style.loadStyle",n.getUrl()),$.browser.msie?e.bind(this,this.elem,"load",this.onLoaded):window.setTimeout(this.onLoaded.bind(this),10),this.elem[0].href=n.getUrl()},onLoaded:function(){for(var t=this.elem[0],n=this.sheets,r=0,i=this.sheets.length;r<i;r++){var o=n[r].href;if(o&&0<=t.href.indexOf(o))return window.setTimeout(this.onReady.bind(this),10)}return e.log("debug","Style.onLoaded",this.retries),this.retries--?window.setTimeout(this.onLoaded.bind(this),10):window.setTimeout(this.onReady.bind(this),0)},onReady:function(){var n=this.elem;t.addStyle(n[0]),e.unbind(this,n),e.log("debug","Style.onReady",n[0].href),this.onDone()},onDone:function(){var e=this.handler;e&&e.apply(this.scope,[this])}}),t.addStyles(),e.bind(t,window,"load",t.addStyles),t})),require("ebay/legacy/utils/Style"),define.Class("ebay/legacy/utils/Loader",["ebay/legacy/adaptor-utils"],(function(e,t){var n=t("ebay/legacy/utils/Style"),r=t("ebay/legacy/utils/Script"),i=function(t,n){e.isArray(t)?this.load(t,n):this.parse(t,n)};return e.extend(i.prototype,{loaded:0,parse:function(e,t){var n=[],r=e.jquery?$("<div/>").append(e):this.html(e);$("link,style,script[src]",r).each((function(){var e=this.tagName,t=$(this);e.match(/link/i)?n.push({type:"text/css",href:this.href}):e.match(/style/i)?n.push({type:"text/css",rules:t.html()}):e.match(/script/i)&&n.push({type:"text/javascript",src:this.src}),t.remove()})),this.fragment=r.children(),this.load(n,t)},html:function(e){var t=document.createElement("div");return t.innerHTML="div<div>"+e+"</div>",$(t.lastChild)},load:function(e,t){this.resources=e,this.handler=t,this.next()},next:function(){var e=this.resources[this.loaded++];e&&e.type.match(/css/)?new n(this,e,this.next):e&&e.type.match(/javascript/)?new r(this,e,this.next):this.handler&&this.handler(this)}}),e.extend(i,{load:function(e,t){return new i(e,t)}}),$load=i.load.bind(i),e.bind(i,document,"ready",(function(){var e=[];$("script[type*=defer]",document).each((function(){e.push({type:"text/javascript",src:this.src,text:this.text})})),e.length&&i.load(e)})),i})),require("ebay/legacy/utils/Loader"),define.Class("ebay/legacy/utils/Uri",["ebay/legacy/adaptor-utils"],(function(e){var t=function(e,t){for(var n=document.getElementsByTagName("meta"),r=0,i=n.length;r<i;r++)if(n[r].getAttribute(e)==t)return n[r];return null},n=(t=(t=t("http-equiv","Content-Type")||t("httpEquiv","Content-Type"))?t.getAttribute("content"):null)&&t.match(/utf/gi)?encodeURI:window.escape,r=t&&t.match(/utf/gi)?decodeURI:window.unescape,i=t&&t.match(/utf/gi)?encodeURIComponent:window.escape,o=t&&t.match(/utf/gi)?decodeURIComponent:window.unescape,a=/(([^:]*):\/\/([^:/?]*)(:([0-9]+))?)?([^?#]*)([?]([^#]*))?(#(.*))?/,s=function(e){this.params={},null!=(e=e.match(a))&&(this.protocol=this.match(e,2),this.host=this.match(e,3),this.port=this.match(e,5),this.href=this.match(e,6),this.query=this.match(e,8),this.href.match(/eBayISAPI.dll/i)?this.decodeIsapi(this.query):this.decodeParams(this.query),this.href=r(this.href),this.hash=this.match(e,10))};return e.extend(s.prototype,{match:function(e,t){return e.length>t&&e[t]?e[t]:""},decodeIsapi:function(e){e=e?e.split("&"):[],this.isapi=e.shift(),this.query=e.join("&"),this.decodeParams(this.query)},appendParam:function(e,t){var n=this.params;null==n[e]?n[e]=t:"object"==typeof n[e]?n[e].push(t):n[e]=[n[e],t]},appendParams:function(e){for(var t in e){var n=e[t];if("object"!=typeof n)this.appendParam(t,n);else for(var r=0;r<n.length;r++)this.appendParam(t,n[r])}},decodeParams:function(e){e=e?e.split("&"):[];for(var t=0;t<e.length;t++){var n=e[t].split("="),r=o(n[0]);n=1<n.length?o(n[1].replace(/\+/g,"%20")):"";r&&this.appendParam(r,n)}},encodeParam:function(e,t){var n=i(e);return t?n.concat("=",i(t)):n},encodeParams:function(e){var t,n=[];e=e||this.params;for(t in e)if(e.hasOwnProperty(t))if("object"!=typeof e[t])n.push(this.encodeParam(t,e[t]));else for(var r=void 0!==(r=e[t])?r.length:0,i=0;i<r;i++)n.push(this.encodeParam(t,e[t][i]));return n.join("&")},decodeForm:function(e){for(var t={},n=0,r=(e=e.elements).length;n<r;n++)delete this.params[e[n].name];for(n=0,r=e.length;n<r;n++){var i=e[n];if(!i.disabled){var o=i.type,a=i.name,s=i.value;o.match(/text|hidden|textarea|password|file/)||o.match(/radio|checkbox/)&&i.checked?this.appendParam(a,s):o.match(/select-one|select-multiple/)&&this.appendSelect(i),t[a]=this.params[a]}}return t},appendSelect:function(e){for(var t=e.options,n=0,r=t.length;n<r;n++)t[n].selected&&this.appendParam(e.name,t[n].value)},getUrl:function(){var e=this.protocol?this.protocol.concat("://"):"";this.host&&(e=e.concat(this.host)),this.port&&(e=e.concat(":",this.port)),this.href&&(e=e.concat(n(this.href))),this.isapi&&(e=e.concat("?",this.isapi));var t=this.encodeParams(this.params);return t&&(e=e.concat(this.isapi?"&":"?",t)),this.hash&&(e=e.concat("#",this.hash)),e}}),$uri=function(e){return new s(e)},s})),require("ebay/legacy/utils/Uri"),define.Class("ebay/sitespeed/SiteSpeed",["ebay/legacy/adaptor-utils"],(function(){return function(e){function t(){var e=n();return e?e.timing:"undefined"}function n(){return window.performance||window.msPerformance||window.webkitPerformance||window.mozPerformance}function r(){return 0<navigator.userAgent.indexOf("Safari")&&0>navigator.userAgent.indexOf("Chrome")}this.init=function(){var t=e.gaugeInfo;if(void 0!==t){var r=0,i=null,o=e.cookies;o&&((i=o.readCookie("ebay","sbf"))&&(r=o.getBitFlag(i,20)),r||o.writeCookielet("ebay","sbf",o.setBitFlag(i,20,1)),i=o.readCookie("ds2","ssts")),t.ut=i,t.bf=r,t.sent=!1,t.ld=!1,t.wt=0,t.ex3=0,t.ct21=0,void 0===t.iLoadST&&(t.iLoadST=Date.now()),(r=e.errors)&&r.init(),r=n(),t.bRsTiming&&"getEntriesByType"in r&&(r.setResourceTimingBufferSize=r.setResourceTimingBufferSize||r.webkitSetResourceTimingBufferSize||r.mozSetResourceTimingBufferSize||r.msSetResourceTimingBufferSize||r.oSetResourceTimingBufferSize||r.webkitSetResourceTimingBufferSize,"function"==typeof r.setResourceTimingBufferSize&&r.setResourceTimingBufferSize(300))}},this.onLoad=function(){var i=e.gaugeInfo;if(void 0!==i){var o=e.cookies;if(o){var a=o.readCookie("ebay","sbf");a&&o.writeCookielet("ebay","sbf",o.setBitFlag(a,20,1))}i.ld=!0;var s,u=Date.now();if(i.wt=u,i.ex3=u,i.ct21=u-i.iST,a=t(),o=e.beacon,a&&(o.add("ex3",u-a.navigationStart),o.add("jseaa",u-a.responseStart),o.add("jseap",a.responseStart-a.navigationStart),o.add("ct1chnk",a.domComplete-a.responseStart),o.add("jsljgr3",a.domainLookupEnd-a.domainLookupStart),o.add("svo",a.connectEnd-a.connectStart),o.add("jsljgr1",a.responseStart-a.requestStart),o.add("slo",a.responseEnd-a.responseStart),a.secureConnectionStart&&(0<(u=a.connectEnd-a.secureConnectionStart)&&o.add("i_ssl",u))),a&&a.msFirstPaint?s=a.msFirstPaint-a.responseStart:window.chrome&&window.chrome.loadTimes&&(a=window.chrome.loadTimes())&&(s=(s=a.firstPaintTime+"").split(".")[0],s=parseInt(s,10),ltsltsec=a.startLoadTime+"",ltsltsec=ltsltsec.split(".")[0],ltsltsec=parseInt(ltsltsec,10),s-=ltsltsec,s*=1e3),0<s&&o.add("i_firstpaint",s),s=0,i.deferExecInMs&&(s=i.deferExecInMs),o=n(),i.bRsTiming&&"getEntriesByType"in o&&(o.setResourceTimingBufferSize=o.setResourceTimingBufferSize||o.webkitSetResourceTimingBufferSize||o.mozSetResourceTimingBufferSize||o.msSetResourceTimingBufferSize||o.oSetResourceTimingBufferSize||o.webkitSetResourceTimingBufferSize,"function"==typeof o.setResourceTimingBufferSize&&(i=o.getEntriesByType("resource").length,o.setResourceTimingBufferSize(0<i-1?i-1:0))),(r()||0<navigator.userAgent.indexOf("Firefox/"))&&!("sendBeacon"in navigator)){var c=this;setTimeout((function(){c.sendBeacon("onload",!1,!1)}),s)}}},this.onBeforeunload=function(){var t=e.cookies;t&&t.writeCookielet("ds2","ssts",Date.now()),this.sendBeacon("unload",!1,r()||0<navigator.userAgent.indexOf("Firefox/"))},this.sendBeacon=function(r,i,o){var a=e.gaugeInfo;if(void 0!==a&&1!=a.sent){var s=e.beacon;if(i){if(a.bRsTiming&&(r=function(){function e(e){return e?(e.sort((function(e,t){var n=e[0],r=e[1],i=t[0],o=t[1];return n==i?r==o?0:r<o?-1:1:n<i?-1:1})),e):[]}function t(e){if(!e||0==e.length)return"";for(var t=0,n=[e[0][0],e[0][1]],r=e[0][0],i=e[0][1],o=1;o<e.length;o++){var a=e[o],s=(i=Math.max(i,a[1]),n),u=a;Math.max(s[0],u[0])<=(s=Math.min(s[1],u[1]))?n[1]=Math.max(n[1],a[1]):(t+=n[1]-n[0],n=[a[0],a[1]])}return t+=n[1]-n[0],r.toFixed(0)+"_"+t.toFixed(0)+"_"+(i-r).toFixed(0)}var r={all:1,link:2,script:3,img:4,css:5,iframe:6,object:7,embed:8,svg:9,xmlhttprequest:10},i=n();if(!(i&&"getEntriesByType"in i&&i.getEntriesByType("resource")instanceof Array))return"";if(!(i=i.getEntriesByType("resource")))return"";var o={},a={},s={},u={};i.forEach((function(e){var t=e.requestStart;if(t||(t=e.fetchStart),0==e.name.indexOf("http://")||0==e.name.indexOf("https://")){var n=e.name.split("/")[2],i=e.initiatorType;"subdocument"===i&&(i="iframe"),r.hasOwnProperty(i)&&!(t>e.responseEnd)&&(u[n]=u[n]||{},u[n][i]=u[n][i]||[],u[n][i].push([t,e.responseEnd]),u[n].all=u[n].all||[],u[n].all.push([t,e.responseEnd]),o[i]=o[i]||[],o[i].push([t,e.responseEnd]),o.all=o.all||[],o.all.push([t,e.responseEnd]),-1<n.indexOf("ebay")?(a[i]=a[i]||[],a[i].push([t,e.responseEnd]),a.all=a.all||[],a.all.push([t,e.responseEnd])):(s[i]=s[i]||[],s[i].push([t,e.responseEnd]),s.all=s.all||[],s.all.push([t,e.responseEnd])))}}));var c="";return[["nonebay",s],["ebay",a],["*",o]].forEach((function(n){c&&(c+="!"),c+=n[0],Object.keys(r).forEach((function(r){c+="~"+t(e(n[1][r]))}))})),Object.keys(u).forEach((function(n){c+="!"+n,Object.keys(r).forEach((function(r){c+="~"+t(e(u[n][r]))}))})),c}())&&s.add("s_rstm",r),(r=e.errors)&&r.getLength()&&(s.add("sgbld",r.getLength()),s.add("emsg",r.getString())),(r=t())&&(0<(r=r.loadEventEnd-r.navigationStart)&&s.add("i_nve2elc",r)),a.bf&&s.remove("st1"),0>(s=s.getUrl()).indexOf("?")&&(s+="?now="+Date.now()),r=e.metrics){var u;r=r.getEntries();for(u in r)s+="&"+r[u].key+"="+r[u].value}o?navigator.sendBeacon(s):(new Image).src=s,a.sent=1}else if(a.ld){if(a.bf)s.add("ex1","1");else if(s.add("ct21",a.ct21),a.iLoadST&&s.add("ctb",a.iLoadST-a.iST),a.st1a&&s.add("st1a",a.st1a),a.aChunktimes&&a.aChunktimes.length){s.add("jslcom",a.aChunktimes.length),u="jseo jsllib1 jsllib2 jsllib3 jslpg jslss jslsys".split(" ");i=a.aChunktimes.length;for(var c,l=0;l<i;l++)(c=u[l])&&s.add(c,a.aChunktimes[l])}"onload"==r?0<a.deferExecInMs?(a.wt=Date.now()-a.wt,s.add("sgwt",a.wt),s.add("i_30i",a.wt)):a.wt=0:(a.wt=Date.now()-a.wt,s.add("sgwt",a.wt)),12e5>a.wt&&this.sendBeacon(r,!0,o)}else s.add("ex2",Date.now()-a.iST),this.sendBeacon(r,!0,o)}}}})),require("ebay/sitespeed/SiteSpeed"),define.Class("ebay/profiler/Profiler",["ebay/legacy/adaptor-utils"],(function(e,t){var n=t("ebay/cookies"),r=window.oGaugeInfo;if(!r)return{beacon:$uri(""),getParam:function(){},addParam:function(){}};var i=$uri(oGaugeInfo.sUrl),o=t("ebay/errors/Errors"),a=(n={gaugeInfo:r,beacon:{add:function(e,t){i.params[e]=t},remove:function(e){delete i.params[e]},getUrl:function(){return i.getUrl()}},cookies:n,errors:{init:function(){},getLength:function(){return o.getErrorLength()},getString:function(){return o.getErrors()}}},new(t("ebay/sitespeed/SiteSpeed"))(n));n=function(){};return e.extend(n,{beacon:i,getParam:function(e){return i.params[e]},addParam:function(e,t){e&&(i.params[e]=t)},init:function(){a.init()},onLoad:function(){a.onLoad()},onBeforeUnload:function(){a.onBeforeunload()},onUnload:function(){}}),n.init(),window.jQuery&&(e.bind(n,window,"load",n.onLoad),e.bind(n,window,"beforeunload",n.onBeforeUnload),e.bind(n,window,"unload",n.onUnload)),n})),require("ebay/profiler/Profiler");